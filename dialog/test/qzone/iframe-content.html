<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>test</title>
</head>
<body>
<div><label><input id="input" type="text" value="hello world" style="padding: 5px;font-size:18px" /></label></div>
<button id="height">设置高度</button> <button id="open">弹新对话框</button>  <button id="remove">传值并关闭对话框</button>
<script src="../js/jquery-1.9.1.debug.js"></script>
<script>
document.domain = 'qq.com';
$(function () {
	var dialog = top.QZONE.FrontPage.getPopupDialog(window);
	dialog.title('测试例子');
	dialog.width(550);
	dialog.height($(document).height());
	dialog.reset();     // 重置对话框位置


	$('#remove').on('click', function () {
		dialog.close($('#input').val()); // 关闭（隐藏）对话框
		dialog.remove();				 // 主动销毁对话框
		return false;
	});

	$('#height').on('click', function () {
		dialog.height(600).reset();
		return false;
	});

	$('#open').on('click', function () {
		top.QZONE.FrontPage.popupDialog({
			url: '/qzone/v8/engine/popup/test/qzone/input.html',
			title: 'loading..',
			width: 400,
			//height: 120,
			data: $('#input').val(),// iframe可获取到这个数据
			onclose: function (ret) {
				$('#input').val(ret || 'hello world');
				dialog.focus();
			},
			oniframeload: function () {
				//console.log('iframe ready')
			}
		});
		return false;
	});

});


</script>
</body>
</html>